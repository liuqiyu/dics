# Google Analytics




#### 会话

##### 1、会话什么时候过期？

* 超过30分钟没有hits发送，重新浏览会产生一个新的会话
* 过了午夜12点会产生新的会话
* 从新的广告系列URL进来

**案例**

* 如果一个用户第一次是通过自然搜索进来，15分钟之后通过付费搜索广告进来，这是将会产生新的会话，因为是从新的广告系列url进来的
* 如果一个用户第一次是通过付费搜索广告进来，15分钟之后再次通过同样的搜索广告进来，如果开启了给Ad的自动标记功能，将会产生新的会话，因为是从新的广告系列url进来的。GCLID的值已经改变了，如果开启了AD的自动标记功能，每个GCLID都有唯一的值，该值的不同表示广告系列的不同。
* 如果一个用户第一次是通过付费搜索广告进来，15分钟之后再次通过同样的搜索广告进来，如果只是用普通标记而没有开启AD自动标记，就不会产生新的会话，应该没有从新的广告系列进来。
* 如果一个用户通过自然搜索进来，15分钟后通过直接访问回来，不会产生新的会话。
* 如果一个用户通过自然搜索进来，30分钟之后通过直接访问回来，就会产生新的会话，因为GA默认会话的过期时间是30分钟。
* GA的会话再30分钟内不会过期，即使期间用户访问其他站点后返回。

**字段**

* Users: 用户数，
* Pageviews：网页浏览是指浏览器加载（或重新加载）网页的实例。网页浏览量可以定义为网页浏览总次数的指标。
* Bounce Rate： 跳出率 -> 是单页会话（即用户从入口页离开网站而未与该网页互动的会话）所占的百分比
* New Sessions: 第一次访问的百分比
* Active Users: 期间内网站或应用上发起会话的唯一身份用户数
* New visitor: 基于clientID计算，跟cookie相关，不同设备，浏览器都会生成一个新的，也就是new user会计算1
* Return visitor: 回访用户，时间区间内第二次回访就算回访用户，应该有个时间间隔才生效的


##### 2、数据延时处理

* 时间和目标的测试可以通过实时查看
* 天看不到测试的数据，可能的原因是：1、你找错了位置 2、测试数据太少，选取时间区间太大，导致抽样的结果数据为0,解决方案是，缩短时间
* 电子商务的测试数据基本要隔天才可以看到
* GA的数据的呈现速度取决于hits的数量，如果你的数量比较少，越快出完数据，如果你的hits很多，可能需要隔天才出完，根据我的经验，如果一天的hits数量在5百万以下的，基本是要第二天下午四五点左右才能出完数据；也可能会出现缩短时间的时候，数据数准确的，但是拉长时间的时候数据是不准确的，这时，就等到下午数据完全出完再看吧。
* 智能事件时常会出现问题，会有延迟一个星期的情况
* Firebase的数据基本也是隔天才可以看到

##### 3、GA限额

> 免费版的Google Analytics容量，也就是hits的使用限额是一个月1000W。hits可以是pv，事件，社交等类型，也就是打开一个页面机会使用一个hits，如果上面还做了事件跟踪，那么所有事件计数都是hits。

> 虽然官方说一个月限额1000W，但是实际超过一些是不影响的，只有在大量超过的时候才会有上图中的警示，根据我的经验来说，在使用到四五千万的时候，数据的准确度还是比较高的，但是靠近亿或超过亿的时候就会出现上图的提示了，这个提示是提示你不要在往这个视图发送数据了，如果继续发送，这个视图的数据将会停止处理，通常会是警示出现一个月后才停止的，所有仍留有足够的时间给你。
对于已经存储的数据是不会有影响的，所以可以放心。

**应对方法？**
数量太大，会导致数据不准确，长期下去的话，这个媒体资源的数据，谷歌是不再处理的，所以，我们需要方法去应对，一般来说有下面几种方法：
1、停止不必要的事件跟踪，因为事件跟踪也是hits，是纳入限额的计算的，如果你的事件跟踪太多了，可以考虑停止一下；
2、将二级域名剥离成单独的媒体资源跟踪，对于流量比较大的网站来说，通常都会是不同的二级域名的，可以考虑将二级域名剥离开来
3、换一个新的媒体资源存储数据，Google Analytics是免费的，可以创建100个账户，每个账户可以有50个媒体资源，所以你一个媒体资源超过限额的时候，可以考虑用另一个媒体资源去替换，这种方式有个弊端，就是数据不连贯，不能直接做对比分析；
4、购买付费版GA360，如果你的预算足够，建议购买付费版
5、用其他开源工具，如piwik
6、抽样跟踪，这个需要技术上的配合，随机加载跟踪代码；